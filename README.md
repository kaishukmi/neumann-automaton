# Neumann Cell Automaton

このプロジェクトは、Tkinterを使用したノイマンのセルオートマトンのPython実装です。

## 機能

- **グラフィカルインターフェース**: Tkinterを使用してセルオートマトンのグリッドを表示します。
- **状態選択**: 事前定義された状態と対応する色のリストからセルの状態を選択できます。
- **セル操作**: 左クリックでセルの状態を変更し、スペースキーでシミュレーションの開始/一時停止を行います。
- **グリッド管理**: グリッド構成を保存・読み込み、すべてのセルを初期状態にリセット、またはランダムな状態に設定できます。

## インストール

1. **リポジトリをクローン**:
   ```bash
   git clone https://github.com/yourusername/von-neumann-automaton.git
   cd von-neumann-automaton
   ```

2. **仮想環境を設定** (オプションですが推奨):
   ```bash
   python -m venv venv
   source venv/bin/activate  # Windowsの場合: venv\Scripts\activate
   ```

3. **必要なパッケージをインストール**:
   ```bash
   pip install -r requirements.txt
   ```

## アプリケーションの実行

アプリケーションを開始するには、以下を実行します:
```bash
python main.py
```

## 使用方法

### グラフィカルインターフェース

- **状態選択**: 右側の状態選択パネルを使用して、セルに適用する状態を選択します。
- **セル操作**:
  - **左クリック**: セルの状態を選択された状態に変更します。
  - **スペースキー**: シミュレーションを開始/一時停止します。
- **メニューオプション**:
  - **File -> Save**: 現在のグリッド構成をファイルに保存します。
  - **File -> Load**: ファイルからグリッド構成を読み込みます。
  - **File -> Reset**: すべてのセルを初期状態にリセットします。
  - **File -> Randomize**: すべてのセルをランダムな状態に設定します。

### サンプルデータの使用

- **サンプルデータの読み込み**:
  `examples\1.json` にサンプルの入力データが配置されています。このファイルを読み込むことで、サンプルのグリッド構成を確認できます。
  1. メニューから **File -> Load** を選択します。
  2. ファイルダイアログが開いたら `examples\1.json` を選択します。

## コード構成

- `main.py`: アプリケーションのエントリーポイント。
- `automaton.py`: ノイマンのセルオートマトンのロジックを含む。
- `gui.py`: Tkinterを使用してグラフィカルインターフェースを処理。
- `file_io.py`: グリッド構成の保存と読み込みのための関数を提供。

## 実装の詳細

### セルオートマトンのロジック

セルオートマトンのロジックは `automaton.py` に実装されています。状態とそれに対応する色は以下のように定義されています:

```python
STATES = {
    "U": (48, 48, 48),
    "S": (255, 0, 0),
    "S0": (255, 125, 0),
    "S00": (255, 175, 50),
    "S000": (251, 255, 0),
    "S01": (255, 200, 75),
    "S1": (255, 150, 25),
    "S10": (255, 255, 100),
    "S11": (255, 250, 125),
    "C00": (0, 255, 128),
    "C01": (33, 215, 215),
    "C10": (255, 255, 128),
    "C11": (255, 128, 64),
    "N_excited": (36, 200, 36),
    "N_quiescent": (106, 106, 255),
    "S_excited": (106, 255, 106),
    "S_quiescent": (139, 139, 255),
    "W_excited": (73, 255, 73),
    "W_quiescent": (122, 122, 255),
    "E_excited": (27, 176, 27),
    "E_quiescent": (89, 89, 255),
    "N_special_excited": (191, 73, 255),
    "N_special_quiescent": (255, 56, 56),
    "S_special_excited": (203, 106, 255),
    "S_special_quiescent": (255, 89, 89),
    "W_special_excited": (197, 89, 255),
    "W_special_quiescent": (255, 73, 73),
    "E_special_excited": (185, 56, 255),
    "E_special_quiescent": (235, 36, 36)
}
```

### グラフィカルインターフェース

グラフィカルインターフェースは `gui.py` に実装されています。Tkinterを使用してメインウィンドウ、グリッド用のキャンバス、および状態選択パネルを作成します。ユーザーは左クリックでセルの状態を変更し、スペースキーでシミュレーションを制御できます。

### 保存と読み込み

`file_io.py` モジュールは、現在のグリッド構成をJSONファイルに保存し、JSONファイルから読み込むための関数を提供します。

## コントリビュート

コントリビュートは歓迎します！リポジトリをフォークし、プルリクエストを送信してください。

## ライセンス

このプロジェクトはMITライセンスの下でライセンスされています。詳細は [LICENSE](LICENSE) ファイルを参照してください。
